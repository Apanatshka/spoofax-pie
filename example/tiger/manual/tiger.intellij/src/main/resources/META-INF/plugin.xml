<idea-plugin>
  <id>tiger.intellij</id>
  <name>Tiger</name>
  <vendor>org.metaborg</vendor>
  <extensions defaultExtensionNs="com.intellij">
    <ApplicationLoadListener
      implementation="mb.tiger.intellij.TigerLoader"
    />
    <fileTypeFactory
      implementation="mb.tiger.intellij.TigerFileTypeFactory"
    />
    <lang.syntaxHighlighterFactory
      language="Tiger"
      implementationClass="mb.tiger.intellij.syntaxcoloring.TigerSyntaxHighlighterFactory"
    />
    <lang.parserDefinition
      language="Tiger"
      implementationClass="mb.tiger.intellij.syntaxcoloring.TigerParserDefinition"
    />
    <completion.contributor
      language="Tiger"
      implementationClass="mb.tiger.intellij.editor.TigerCompletionContributor"
    />

    <editorTabTitleProvider implementation="mb.spoofax.intellij.editor.SpoofaxEditorTabTitleProvider"/>
  </extensions>

  <actions>
    <!-- Spoofax Main -->
    <group id="spoofax.intellij.menu.main" text="Spoofax" popup="true">
      <add-to-group group-id="MainMenu" anchor="after" relative-to-action="WindowMenu"/>
      <group id="spoofax.intelij.menu.main.debug" text="Debug" popup="true">
        <group id="spoofax.intellij.menu.main.debug.pie" text="PIE" popup="true">
          <action id="spoofax.intellij.pie.dropstore"
                  class="mb.spoofax.intellij.pie.DropStoreAction" text="Drop Store"
                  description="Drops the PIE store.">
          </action>
        </group>
      </group>
    </group>
  </actions>

  <application-components>
    <component>
      <implementation-class>mb.tiger.intellij.menu.TigerMainMenuComponent</implementation-class>
    </component>
  </application-components>
</idea-plugin>
